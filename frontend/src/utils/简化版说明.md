# 📝 简化版合约说明

## 🎯 关键区别

### 完整版（需要Gateway）
```solidity
function createGame(
    einput encryptedTarget,     // ← 特殊类型
    bytes calldata inputProof,   // ← 需要proof
    uint256 entryFee
)
```

### 简化版（我们的版本）
```solidity
function createGame(
    bytes calldata encryptedTarget,  // ← 直接bytes
    uint256 entryFee                 // ← 不需要proof
)
```

## ⚠️ 前端调用差异

### SDK使用
```typescript
// 1. 创建加密输入
const encryptedInput = await sdk.createEncryptedInput(userAddress, contractAddress);

// 2. 添加数字（返回handles）
const handle = await encryptedInput.add32(targetNumber);

// 3. 生成proof
const proof = await encryptedInput.encrypt();

// 4. 调用合约
// 完整版：
await contract.createGame(handle, proof, entryFee);

// 简化版（我们的）：
await contract.createGame(proof, entryFee);
// 注意：简化版直接使用proof作为加密数据！
```

## 💡 工作原理

简化版合约：
- 不区分einput和bytes
- 直接使用bytes数据
- TFHE.asEuint32(bytes) 解析加密数据
- 不需要额外的proof验证

## ✅ 优势

- ✅ 不依赖复杂的Gateway回调
- ✅ 更稳定
- ✅ 代码更简单
- ✅ 适合学习和测试

## ⚠️ 限制

- ⚠️ 需要手动指定获胜者（不能自动解密计算）
- ⚠️ 房主需要负责任地选择获胜者



