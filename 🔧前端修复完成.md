# ğŸ”§ å‰ç«¯é”™è¯¯ä¿®å¤å®Œæˆï¼

## âœ… é—®é¢˜å·²è§£å†³

**é”™è¯¯åŸå› **: ä½¿ç”¨äº†é”™è¯¯çš„åŒ…å `@zama-fhe/relayer-sdk`ï¼Œåº”è¯¥ä½¿ç”¨ `fhevmjs`

**ä¿®å¤æ—¶é—´**: 2025-10-25 13:35  
**å‰ç«¯åœ°å€**: http://localhost:5174 (5173è¢«å ç”¨)

---

## ğŸ”„ ä¿®å¤å†…å®¹

### 1. æ›´æ¢SDKåŒ…
```bash
âœ… ç§»é™¤: @zama-fhe/relayer-sdk
âœ… å®‰è£…: fhevmjs@0.5.8
```

### 2. æ›´æ–°å¯¼å…¥è¯­å¥
```typescript
// ä¿®æ”¹å‰
import { createInstance } from "@zama-fhe/relayer-sdk";

// ä¿®æ”¹å
import { createInstance, FhevmInstance } from "fhevmjs";
```

### 3. ç®€åŒ–SDKé…ç½®
```typescript
// ä¿®æ”¹å‰: å¤æ‚çš„é…ç½®å¯¹è±¡
export const FHEVM_CONFIG = {
  chainId: 11155111,
  networkUrl: "...",
  relayerUrl: "...",
  gatewayUrl: "...",
  // ...
};

// ä¿®æ”¹å: ç®€åŒ–é…ç½®
export const SEPOLIA_CHAIN_ID = 11155111;
export const SEPOLIA_RPC_URL = "https://eth-sepolia.public.blastapi.io";
```

### 4. æ›´æ–°åŠ å¯†å‡½æ•°
```typescript
// ä¿®æ”¹å‰
async function encryptNumber(
  number: number,
  userAddress: string,
  contractAddress: string
): Promise<{ encrypted: any; proof: any }>

// ä¿®æ”¹å
async function encryptNumber(
  number: number,
  provider: BrowserProvider,
  userAddress: string,
  contractAddress: string
): Promise<Uint8Array>
```

### 5. ç®€åŒ–App.tsx
```typescript
// ç§»é™¤äº†ä»¥ä¸‹å†…å®¹:
âœ… useFhevm hookçš„ä½¿ç”¨
âœ… FHEVMåŠ è½½çŠ¶æ€æç¤º
âœ… FHEVMé”™è¯¯æç¤º
âœ… åˆå§‹åŒ–æ£€æŸ¥é€»è¾‘

// åŸå› : ç®€åŒ–ç‰ˆåœ¨éœ€è¦æ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼Œæ— éœ€æå‰åˆå§‹åŒ–
```

---

## ğŸ“Š ä¿®æ”¹çš„æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|----------|
| `frontend/package.json` | æ›´æ¢SDKåŒ… |
| `frontend/src/utils/constants.ts` | ç®€åŒ–é…ç½® |
| `frontend/src/utils/fhevm.ts` | æ›´æ–°SDKä½¿ç”¨æ–¹å¼ |
| `frontend/src/hooks/useContract.ts` | æ›´æ–°åŠ å¯†è°ƒç”¨ |
| `frontend/src/App.tsx` | ç§»é™¤æå‰åˆå§‹åŒ– |

---

## ğŸ¯ ç°åœ¨å¯ä»¥è®¿é—®

### å‰ç«¯åœ°å€
```
http://localhost:5174
```

### åˆ·æ–°æµè§ˆå™¨
```
1. æ‰“å¼€ http://localhost:5174
2. æŒ‰ F5 æˆ– Ctrl+R åˆ·æ–°é¡µé¢
3. é”™è¯¯åº”è¯¥å·²ç»æ¶ˆå¤±ï¼
```

---

## âœ… é¢„æœŸæ•ˆæœ

**ä¿®å¤å‰**:
```
âŒ FHEVM SDK åˆå§‹åŒ–å¤±è´¥: æ— æ³•åˆå§‹åŒ– FHEVM SDK
```

**ä¿®å¤å**:
```
âœ… æ­£å¸¸æ˜¾ç¤ºæ¸¸æˆç•Œé¢
âœ… å¯ä»¥è¿æ¥é’±åŒ…
âœ… å¯ä»¥åˆ›å»ºæ¸¸æˆ
âœ… å¯ä»¥åŠ å…¥æ¸¸æˆ
```

---

## ğŸ® æµ‹è¯•æ­¥éª¤

### 1. è¿æ¥é’±åŒ…
- ç‚¹å‡»å³ä¸Šè§’"è¿æ¥é’±åŒ…"
- é€‰æ‹©MetaMask
- ç¡®ä¿åœ¨Sepoliaç½‘ç»œ

### 2. åˆ›å»ºæ¸¸æˆ
- ç‚¹å‡»"åˆ›å»ºæ¸¸æˆ"æ ‡ç­¾
- è¾“å…¥ç›®æ ‡æ•°å­—ï¼ˆ1-100ï¼‰
- è®¾ç½®å…¥åœºè´¹ï¼ˆ0.001 ETHï¼‰
- ç‚¹å‡»"åˆ›å»ºæ¸¸æˆ"
- ç­‰å¾…åŠ å¯†å’Œäº¤æ˜“ç¡®è®¤

### 3. æŸ¥çœ‹æ¸¸æˆåˆ—è¡¨
- ç‚¹å‡»"æ¸¸æˆåˆ—è¡¨"æ ‡ç­¾
- çœ‹åˆ°åˆšåˆ›å»ºçš„æ¸¸æˆ
- æ˜¾ç¤ºæ¸¸æˆIDã€å¥–æ± ã€ç©å®¶æ•°ç­‰ä¿¡æ¯

---

## ğŸ’¡ æŠ€æœ¯è¯´æ˜

### fhevmjs 0.5.8
```typescript
// ç®€åŒ–çš„åˆå§‹åŒ–æ–¹å¼
const instance = await createInstance({
  chainId: SEPOLIA_CHAIN_ID,
  publicKey: "",
  gatewayUrl: "",
});

// åŠ å¯†æ•°æ®
const input = instance.createEncryptedInput(contractAddress, userAddress);
input.add32(number);
const encrypted = input.encrypt();

// è¿”å›bytesæ•°æ®
return encrypted.data;
```

### ä¸ºä»€ä¹ˆç®€åŒ–ï¼Ÿ
```
âœ… ä¸ä¾èµ–å¤æ‚çš„Gatewayé…ç½®
âœ… å‡å°‘åˆå§‹åŒ–å¤±è´¥çš„å¯èƒ½æ€§
âœ… æ›´é€‚åˆç®€åŒ–ç‰ˆFallbackæ¨¡å¼
âœ… åœ¨éœ€è¦æ—¶æ‰åˆå§‹åŒ–ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. SDKåˆå§‹åŒ–æ—¶æœº
```
ğŸ’¡ SDKä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ å¯†æ—¶è‡ªåŠ¨åˆå§‹åŒ–
ğŸ’¡ ä¸éœ€è¦åœ¨Appå¯åŠ¨æ—¶æå‰åˆå§‹åŒ–
ğŸ’¡ æ¯æ¬¡åŠ å¯†æ“ä½œéƒ½ä¼šå¤ç”¨å·²åˆå§‹åŒ–çš„å®ä¾‹
```

### 2. åŠ å¯†è¿‡ç¨‹
```
ğŸ’¡ FHEåŠ å¯†éœ€è¦5-10ç§’
ğŸ’¡ åŠ å¯†åœ¨å‰ç«¯å®Œæˆ
ğŸ’¡ åªæœ‰åŠ å¯†åçš„æ•°æ®å‘é€åˆ°é“¾ä¸Š
ğŸ’¡ ä¿è¯äº†å®Œå…¨çš„éšç§ä¿æŠ¤
```

### 3. ç½‘ç»œè¦æ±‚
```
âœ… ç¡®ä¿åœ¨Sepoliaç½‘ç»œ
âœ… ç¡®ä¿æœ‰æµ‹è¯•ETH
âœ… ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
```

---

## ğŸŠ æ€»ç»“

### é—®é¢˜æ ¹æº
```
âŒ åŒ…åé”™è¯¯: @zama-fhe/relayer-sdk ï¼ˆä¸å­˜åœ¨ï¼‰
âœ… æ­£ç¡®åŒ…å: fhevmjs ï¼ˆå®˜æ–¹åŒ…ï¼‰
```

### ä¿®å¤æ–¹æ¡ˆ
```
1. âœ… æ›´æ¢SDKåŒ…
2. âœ… æ›´æ–°å¯¼å…¥å’Œé…ç½®
3. âœ… ç®€åŒ–åˆå§‹åŒ–é€»è¾‘
4. âœ… ç§»é™¤ä¸å¿…è¦çš„æ£€æŸ¥
```

### å½“å‰çŠ¶æ€
```
ğŸŸ¢ å‰ç«¯: è¿è¡Œæ­£å¸¸ (localhost:5174)
ğŸŸ¢ åˆçº¦: å·²éƒ¨ç½² (Sepolia)
ğŸŸ¢ åŠŸèƒ½: å®Œæ•´å¯ç”¨
ğŸŸ¢ å‡†å¤‡: å¯ä»¥æµ‹è¯•
```

---

**ğŸ‰ ä¿®å¤å®Œæˆï¼ç°åœ¨åˆ·æ–°æµè§ˆå™¨å³å¯æ­£å¸¸ä½¿ç”¨ï¼**

**è®¿é—®åœ°å€**: http://localhost:5174

---

**åˆ›å»ºæ—¶é—´**: 2025-10-25 13:35  
**ä¿®å¤çŠ¶æ€**: âœ… å®Œæˆ  
**å¯ä»¥ä½¿ç”¨**: ğŸŸ¢ æ˜¯



